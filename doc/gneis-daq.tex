\documentclass[12pt, a4paper, oneside]{book}
\usepackage[utf8]{inputenc}
\usepackage[russian]{babel}
\usepackage{gensymb}
\usepackage{graphicx}
\usepackage{indentfirst}
\usepackage{url}
\usepackage[backend=biber, style=gost-numeric]{biblatex} 
\addbibresource{gneis-daq.bib}

\newcommand{\GD}{{\tt gneis-daq}}
\newcommand{\MIDAS}{\mbox{MIDAS}}
\newcommand{\APP}[1]{\mbox{\tt #1}}
\newcommand{\TERM}[1]{{\it #1}}
\newcommand{\BANK}[1]{{\tt #1}}
\newcommand{\DEVICE}{CAEN~V1720}
\newcommand{\ODBNODE}[1]{<<{\tt #1}>>}

\title{\GD{}: набор программ по сбору и анализу данных для установки ГНЕЙС}
\author{Накин~А.~В.}

\begin{document}

\maketitle

\chapter{Введение}

\GD{} --- набор программ по сбору данных, созданный для использования на установке ГНЕЙС \cite{shcherb2018}, но который может быть частично или полностью  использоваться и в других экспериментах с аналогичной аппаратной базой.

\GD{} предназначен для считывания и записи экспериментальных данных в числовой форме и их оперативного анализа, в том числе удалённого.

\GD{} разработан на базе системы сбора данных \MIDAS{} \cite{midas} с использованием библиотеки ROOT и других.

\section{Системные требования}

Как сам \GD{}, так и все используемые программные компоненты написаны на кросс-платформенных языках программирования, таких как С и C++. Это теоретически позвляет использовать \GD{} в различных операционных системах.

Практически же, разработка и тестирование \GD{} производились в разных версиях ОС Linux, таких как Debian и openSUSE. Использование \GD{} в других ОС, например в MS Windows, может потребовать некоторой доработки.

\subsection{Программное обеспечение}

\section{Общие сведения о \MIDAS{}}

\MIDAS{} (Maximum Integrated Data Acquisition System) --- современная система сбора данных для физических экспериментов с объёмом данных масштаба малого и среднего, вплоть до десятков Гб/сек. Это совместная разработка PSI \cite{psi} и TRIUMF \cite{triumf}, первая версия выпущена в 1997 году.

\MIDAS{} представляет собой библиотеку функций и коллекцию программ на её основе, в их число входят:

\begin{itemize}
\item \APP{odbedit}: позволяет редактировать базу данных эксперимента; также предоставляет команды для начала, остановки или приостановки записи данных.
\item \APP{mlogger}: регистратор, записывает результаты эксперимента в числовой форме на диск или магнитную ленту. Для экономии места данные могут сжиматься <<на лету>>.
\item \APP{mhttpd}: позволяет удалённо редактировать базу данных, управлять ходом эксперимента и компонентами системы посредством веб-интерфейса.
\item и множество других.
\end{itemize}

\subsection{База данных эксперимента}

Информация об эксперименте, такая как конфигурация оборудования, режимы работы каждого из компонентов, протокол использования оборудования и пр. содержится в специальной базе данных --- ODB \cite{MidasWikiODB}.

Каждый новый эксперимент может иметь как свою собственную базу данных, так и пользоваться имеющейся, в зависимости от требований эксперимента.

\subsection{Фронтенды}
\label{sec-midas-frontend}

Связь с оборудованием осуществляется посредством небольших программ, называемых \TERM{фронтендами} (\TERM{Frontend Application}) \cite{MidasWikiFrontend}. Фронтенд управляет устройством, производит его конфигурирование и обеспечивает приём данных, идущих от устройства. Как правило, каждое устойство, задействованное в сборе данных, имеет свой собственный фронтенд.

\MIDAS{} имеет в своём составе набор фронтендов для типового оборудования физического эксперимента. Но как правило, наличие нестандартного оборудования требует от экспериментатора написания специальной программы-фронтенда.

\subsection{Анализаторы}
\label{sec-midas-analyzer}

\MIDAS{} предоставляет возможность оперативного контроля за экспериментом. Для этого в систему добавляются небольшие программы-\TERM{анализаторы} (\TERM{Analyzers}). Анализатор <<прослушивает>> поток данных, идущий от фронтендов, и производит обработку этих данных, например накапливает статистику по определённым событиям. Далее, обработанная информация может сохраняться на диске или оперативно отображаться на экране ПК, например в виде диаграмм.

Система не ограничивает количество анализаторов, способы анализа и визуалиации. Но экспериментаторы должны позаботиться о написании анализаторов, соответствующих их нуждам.

\subsection{Прочие характеристики}

\MIDAS{} --- распределённая система, то есть её компоненты могут работать на разных рабочих станциях, связанных в общую компьютерную сеть (локальную или глобальную, такую как интернет). Например, наблюдать накопление статистики в реальном времени можно на ПК, который территориально удалён от экспериментальной площадки, что увеличивает удобство экспериментатора, уменьшает дозовую нагрузку.

\MIDAS{} --- расширяемая система, позволяющая добавлять новые компоненты. Эта работа значительно упрощается благодаря общей библиотеке, которая берёт на себя такие задачи, как доступ к базе данных, связь компонентов между собой, протоколирование событий и другие.

Основные компоненты \MIDAS{} написаны на C/C++. Согласно документации, поддерживаются операционные системы Linux, MacOS, и MS Windows.

\subsection{Где используется}

На базе \MIDAS{} реализованы эксперименты, ведущиеся в PSI, TRIUMF, CERN, Fermilab и др. С их неполным перечнем можно познакомиться в \cite{MidasWikiWorld}.

\subsection{Условия использования}

\MIDAS{} распространяется в исходных кодах под лицензией GNU (General Public License) \cite{midas}. Информация о возможности коммерческого или некоммерческого использования и технической поддержке не содержится на сайте проекта.

\chapter{Установка и начало работы}

Информация, изложенная в этом разделе, требует некоторых минимальных знаний по работе в ОС Linux, в частности:

\begin{itemize}
\item назначение команд \APP{sudo}, \APP{make};
\item как устанавливать пакеты программного обеспечения (\TERM{packages});
\item как создавать каталоги.
\end{itemize}

\chapter{Фронтенд для \DEVICE{}}

\input{fe-v1720.tex}

\printbibliography

\end{document}
